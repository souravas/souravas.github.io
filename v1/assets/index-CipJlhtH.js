!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const e=document.getElementById("theme-toggle");function t(t){"dark"===t?(document.documentElement.setAttribute("data-theme","dark"),e.textContent="☀️",localStorage.setItem("theme","dark")):(document.documentElement.removeAttribute("data-theme"),e.textContent="🌙",localStorage.setItem("theme","light"))}!function(){let e=localStorage.getItem("theme");e||(e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),t(e)}(),e.addEventListener("click",()=>{t("dark"===document.documentElement.getAttribute("data-theme")?"light":"dark")}),document.addEventListener("DOMContentLoaded",()=>{function e(e,t){let o,r=0;return function(...n){const i=Date.now();i-r>t?(e.apply(this,n),r=i):(clearTimeout(o),o=setTimeout(()=>{e.apply(this,n),r=Date.now()},t-(i-r)))}}const t=document.getElementById("back-to-top");function o(){window.scrollY>300?t.classList.add("is-visible"):t.classList.remove("is-visible")}window.addEventListener("scroll",e(o,100)),t.addEventListener("click",e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}),o();const r=Array.from(document.querySelectorAll("section[id]")),n=Array.from(document.querySelectorAll(".nav-links a")),i=Array.from(document.querySelectorAll(".mobile-nav a"));function c(){let e="";const t=window.scrollY;r.forEach(o=>{const r=o.offsetTop-100,n=o.offsetHeight;t>=r&&t<r+n&&(e=o.getAttribute("id"))}),window.innerHeight+t>=document.body.offsetHeight-5&&r.length&&(e=r[r.length-1].getAttribute("id")),[...n,...i].forEach(t=>{const o=t.getAttribute("href")===`#${e}`;t.classList.toggle("active",o),o?t.setAttribute("aria-current","page"):t.removeAttribute("aria-current")})}window.addEventListener("scroll",e(c,100)),c();const s=document.getElementById("hamburger"),a=document.getElementById("mobileNav");s&&a&&(s.addEventListener("click",()=>{a.classList.toggle("open");const e="true"===s.getAttribute("aria-expanded");s.setAttribute("aria-expanded",String(!e))}),a.addEventListener("click",e=>{e.target.closest("a")&&(a.classList.remove("open"),s.setAttribute("aria-expanded","false"))})),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{e.active}).catch(e=>{})});const d=document.querySelector('a[href="assets/resume.pdf"]');d&&d.addEventListener("click",e=>{"caches"in window&&caches.open("sourav-portfolio-v1").then(e=>{e.add("/assets/resume.pdf").catch(e=>{})})})});
